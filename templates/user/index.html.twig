{% extends "base.html.twig" %}

{% block body %}
	<div class="container">
		<a class="btn btn-outline-success mt-3" href="{{ path ('add_user')}}">Add new user</a>
		<table class="table text-center">
			<thead>
				<tr>
					<th>User ID</th>
					<th>User Email</th>
					<th>User Password</th>
					<th>User Role</th>
				</tr>
			</thead>
			<tbody>
				{% for user in users %}
					<tr>
						<td>{{ user.id }}</td>
						<td>
							{{ user.email }}
						</td>
						<td>
							{{ user.password }}
						</td>
						<td>
							{% if is_granted('ROLE_ADMIN') %}
								Admin
							{% elseif is_granted('ROLE_CUSTOMER') %}
								Customer
							{% else %}
								Anonymous
							{% endif %}
						</td>
						<td>
							<a class="btn btn-primary" href="{{ path('view_user', {'id' : user.id }) }}">
								DETAIL
							</a>
							<a class="btn btn-warning" href="{{ path('edit_user', {'id' : user.id }) }}">
								EDIT
							</a>
							<a class="btn btn-danger" href="{{ path('delete_user_by_id', {'id' : user.id }) }}">
								DELETE
							</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}
